import { Router, RouterStateSnapshot } from '@angular/router';
import { StateContext, Store } from '@ngxs/store';
import { Navigate, RouterAction } from './router.actions';
import { RouterStateSerializer } from './serializer';
import { NgZone } from '@angular/core';
export declare type RouterStateModel<T = RouterStateSnapshot> = {
    state: T;
    navigationId: number;
};
export declare class RouterState {
    private _store;
    private _router;
    private _serializer;
    private _ngZone;
    private routerStateSnapshot;
    private routerState;
    private lastRoutesRecognized;
    private dispatchTriggeredByRouter;
    private navigationTriggeredByDispatch;
    /**
     * Selectors
     */
    static state(state: RouterStateModel): RouterStateSnapshot;
    static url(state: RouterStateModel): string | undefined;
    constructor(_store: Store, _router: Router, _serializer: RouterStateSerializer<RouterStateSnapshot>, _ngZone: NgZone);
    navigate(ctx: StateContext<RouterStateModel>, action: Navigate): void;
    angularRouterAction(ctx: StateContext<RouterStateModel>, action: RouterAction<any, RouterStateSnapshot>): void;
    /**
     * Hook into the angular router before each navigation action is performed
     * since the route tree can be large, we serialize it into something more manageable
     */
    private setUpRouterHook;
    private setUpStoreListener;
    private setUpStateRollbackEvents;
    private shouldDispatchRouterNavigation;
    private navigateIfNeeded;
    private dispatchRouterNavigation;
    private dispatchRouterCancel;
    private dispatchRouterError;
    private dispatchRouterAction;
}
